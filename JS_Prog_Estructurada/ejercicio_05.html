<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web de gestión de alfombras</title>
</head>
<body>
    <h1>Ejercicio gestión de alfombras</h1>
    <!--
        Ejercicio: Esta web está incompleta, quién la desarrolló dejó todo a medias. 
        Se trata de terminarla, sustituir lo que el que la empezó hizo mal,
        eliminar lo que ya no es necesario (ya sea código HTML o JavaScript), 
        añadir la funcionalidad y las funciones que faltan, y programar los condicionales,
        bucles, variables, arrays, etc... necesarias para que funcione como debería.
        Funcionamiento: 
         - La aplicación debe pintar la información de una serie de alfombras: 
           Debe mostrar su país de origen, su precio y si está en stock o no.
        - El usuario puede rellenar los campos, y cuando pulse "añadir", se deben 
          añadir estos valores al listado
        - Cuando pulse "borrar todo", debemos eliminar el array con algunos de los métodos
          indicados en este hilo de la web Stack Overflow: 
            https://stackoverflow.com/questions/1232040/how-do-i-empty-an-array-in-javascript
        - Añadir un botón que pueda indicar la cantidad de alfombras que hay en el campo
            cuyo id="input_total"
        - Añadir otro botón que calcule el total de la suma de los precios
        -->
    <br><label>Pais:</label><input id="input_pais" type="text" placeholder="Pais de origen"/>
    <br><label>Precio:</label><input id="input_precio" type="number" placeholder="Precio"/>
    <br><label>En stock:</label><input id="input_stock" type="checkbox"/>
    <br>
    <input id="button_add" type="button" value="Añadir"/>
    <input id="button_clean" type="button" value="Borrar todo"/>
    <h2>Listado de alfombras:</h2>
    <br><label>Total de alfomras:</label><button id="input_total" type="text"/>2 alfombras</button>
    
    <table>
        <thead>
            <tr>
                <th> Pais </th>
                <th> Precio </th>
                <th> En stock </th>
            </tr>
        </thead>
        <tbody id="tbody_alfombras">
            <tr>
              <td> Portugal </td>
              <td> 100 € </td>
              <td> SI </td>
            </tr>
        </tbody>
    </table>
    <script>
        var tbodyAlfombras, inputPais, buttonAdd;
        var paises, precios;

        inicializar();
        pintarTabla();
 
        function inicializar() {
            paises  = new Array()
            paises[0] = "Portugal";
            paises.push("Uruguay");

            precios = [100, 80];
            tbodyAlfombras = document.getElementById("tbody_alfombras");
            inputPais = document.getElementById("input_pais");
            buttonAdd = document.getElementById("button_add");
            // Vinculamos el evento onclick a la función addAlfombra,
            // como si fuera el atributo HTML onclick="addAlfombra();"
            buttonAdd.onclick = addAlfombra;
        }    
        function pintarTabla() {
            tbodyAlfombras.innerHTML = "";
            {
                
                let htmlTR = "<tr>";
                // += incrementa la misma variable o propiedad`
                htmlTR = htmlTR + "<td> " + paises[0] + " </td>";
                htmlTR += "<td> " + precios[0] + " € </td></tr>";

                tbodyAlfombras.innerHTML += htmlTR;

                // ¿Qué hacemos con código que se repite?
                htmlTR = "<tr>";
                htmlTR += "<td> " + paises[1] + " </td>";
                htmlTR += "<td> " + precios[1] + " € </td></tr>";
                tbodyAlfombras.innerHTML += htmlTR;

                htmlTR = "<tr>";
                htmlTR += "<td> " + paises[2] + " </td>";
                htmlTR += "<td> " + precios[2] + " € </td></tr>";
                tbodyAlfombras.innerHTML += htmlTR;
            }
        }
        function addAlfombra() {
            paises[paises.length] = inputPais.value;
            pintarTabla() ;
        }
    </script>
</body>
</html>